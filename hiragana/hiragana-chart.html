<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla de Hiragana - HiraKata</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="bg-gradient-to-br from-slate-50 to-blue-50 text-slate-800 font-['Inter',sans-serif]">
    <!-- Header -->
    <header class="bg-gradient-to-r from-indigo-500 via-blue-500 to-indigo-600 shadow-2xl relative overflow-hidden">
        <!-- Decorative background -->
        <div class="absolute inset-0 bg-black/10"></div>
        <div class="absolute top-0 left-0 w-full h-full">
            <div class="absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl"></div>
            <div class="absolute bottom-10 right-10 w-32 h-32 bg-white/10 rounded-full blur-2xl"></div>
        </div>
        
        <div class="relative z-10">
            <!-- Logo Section -->
            <div class="flex justify-center pt-8 pb-4">
                <a href="https://nakanakadev.github.io/hirakata/" 
                   class="transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-white/30 rounded-xl"
                   aria-label="HiraKata - P√°gina principal">
                    <img class="h-16 md:h-20 drop-shadow-2xl" alt="Logo Hirakata" src="../hirakata-nobg.png">
                </a>
            </div>

            <!-- Title Section -->
            <div class="text-center pb-6 px-4">
                <h1 class="text-2xl md:text-3xl font-bold text-white mb-2 drop-shadow-lg flex items-center justify-center gap-2">
                    <span class="text-3xl">„Å≤</span>
                    Tabla de Hiragana
                </h1>
                <p class="text-lg text-indigo-100">
                    Referencia completa del silabario Hiragana
                </p>
            </div>

            <!-- Navigation -->
            <nav class="bg-black/20 backdrop-blur-sm border-t border-white/20" role="navigation" aria-label="Navegaci√≥n principal">
                <div class="container mx-auto flex justify-center space-x-4 md:space-x-6 py-3 px-4">
                    <a href="../"
                       class="group px-4 py-2 text-white hover:text-indigo-100 transition-all duration-300 text-sm font-semibold rounded-lg hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/50 border-2 border-transparent hover:border-white/30">
                        <span class="flex items-center space-x-2">
                            <span>üè†</span>
                            <span>Inicio</span>
                        </span>
                    </a>
                    <a href="../hiragana/"
                       class="group px-4 py-2 text-white bg-white/20 transition-all duration-300 text-sm font-semibold rounded-lg border-2 border-white/50">
                        <span class="flex items-center space-x-2">
                            <span>„Å≤</span>
                            <span>Hiragana</span>
                        </span>
                    </a>
                    <a href="../katakana/"
                       class="group px-4 py-2 text-white hover:text-indigo-100 transition-all duration-300 text-sm font-semibold rounded-lg hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/50 border-2 border-transparent hover:border-white/30">
                        <span class="flex items-center space-x-2">
                            <span>„Ç´</span>
                            <span>Katakana</span>
                        </span>
                    </a>
                </div>
            </nav>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="py-16 px-4">
        <div class="container mx-auto max-w-7xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">
                    Tabla Completa de Hiragana
                </h2>
                <p class="text-xl text-slate-600 max-w-2xl mx-auto leading-relaxed">
                    Referencia visual de todos los caracteres del silabario Hiragana
                </p>
            </div>

            <!-- Basic Hiragana Table -->
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-12 border border-slate-100">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-lg flex items-center justify-center text-white text-sm font-bold">
                        „Å≤
                    </div>
                    Hiragana B√°sico (Goj≈´on)
                </h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-center">
                        <tbody id="hiragana-table-body" class="divide-y divide-slate-100">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Y≈çon Table -->
            <div class="bg-white rounded-2xl shadow-lg p-8 border border-slate-100">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center text-white text-sm font-bold">
                        „ÇÉ
                    </div>
                    Hiragana Compuesto (Y≈çon)
                </h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-center">
                        <tbody id="yoon-table-body" class="divide-y divide-slate-100">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <script>
        fetch('../data/hiragana.json')
            .then(response => response.json())
            .then(data => {
                const tableBody = document.getElementById('hiragana-table-body');
                const yoonTableBody = document.getElementById('yoon-table-body');

                const consonantOrder = [
                    '', // Vocales
                    'k', 'g', // K y G
                    's', 'z', // S y Z
                    't', 'd', // T y D
                    'n', // N
                    'h', 'b', 'p', // H, B y P
                    'm', // M
                    'y', // Y
                    'r', // R
                    'w' // W
                ];

                consonantOrder.forEach(consonant => {
                    const row = document.createElement('tr');
                    let hasData = false;

                    ['a', 'i', 'u', 'e', 'o'].forEach(vowel => {
                        let romanization = consonant + vowel;

                        // Casos especiales: „Åó (shi), „Å° (chi), „Å§ (tsu), „Åµ (fu), „Åò (ji), „Å¢ (dji), „Åö (zu), „Å• (dzu)
                        if (consonant === 's' && vowel === 'i') romanization = 'shi';
                        if (consonant === 't' && vowel === 'i') romanization = 'chi';
                        if (consonant === 't' && vowel === 'u') romanization = 'tsu';
                        if (consonant === 'h' && vowel === 'u') romanization = 'fu';
                        if (consonant === 'z' && vowel === 'i') romanization = 'ji';
                        if (consonant === 'd' && vowel === 'i') romanization = 'dji';
                        if (consonant === 'z' && vowel === 'u') romanization = 'zu';
                        if (consonant === 'd' && vowel === 'u') romanization = 'dzu';

                        const characterData = data.hiragana.find(item => item.romanization === romanization);

                        if (characterData && characterData.romanization !== "wa" && characterData.romanization !== "wo" && characterData.romanization !== "n") {
                            const cell = document.createElement('td');
                            cell.className = 'p-4 border border-gray-200';

                            // Mostrar "zu" para ambos „Åö y „Å•, y "ji" para „Åò y "dji" para „Å¢
                            let displayRomanization;
                            if (characterData.romanization === 'dzu') {
                                displayRomanization = 'zu'; // „Å•
                            } else if (characterData.romanization === 'dji') {
                                displayRomanization = 'ji'; // „Å¢
                            } else {
                                displayRomanization = characterData.romanization;
                            }

                            cell.innerHTML = `
                                <div class="text-3xl font-bold text-gray-800">${characterData.character}</div>
                                <div class="text-sm text-gray-600 mt-1">${displayRomanization}</div>
                            `;
                            row.appendChild(cell);
                            hasData = true;
                        } else {
                            const cell = document.createElement('td');
                            cell.className = 'p-4 border border-gray-200';
                            cell.innerHTML = '';
                            row.appendChild(cell);
                        }
                    });

                    // Solo agregar la fila si tiene datos
                    if (hasData) {
                        tableBody.appendChild(row);
                    }
                });

                // Fila especial para "wa", "wo" y "n"
                const specialRow = document.createElement('tr');
                const specialCharacters = ['wa', 'wo', 'n'];
                let specialRowHasData = false;

                specialCharacters.forEach(romanization => {
                    const cell = document.createElement('td');
                    cell.className = 'p-4 border border-gray-200';

                    const characterData = data.hiragana.find(item => item.romanization === romanization);

                    if (characterData) {
                        cell.innerHTML = `
                            <div class="text-3xl font-bold text-gray-800">${characterData.character}</div>
                            <div class="text-sm text-gray-600 mt-1">${characterData.romanization}</div>
                        `;
                        specialRowHasData = true;
                    } else {
                        cell.innerHTML = '';
                    }

                    specialRow.appendChild(cell);
                });

                while (specialRow.children.length < 5) {
                    const emptyCell = document.createElement('td');
                    emptyCell.className = 'p-4 border border-gray-200';
                    emptyCell.innerHTML = '';
                    specialRow.appendChild(emptyCell);
                }

                if (specialRowHasData) {
                    tableBody.appendChild(specialRow);
                }

                // Filas de caracteres compuestos (y≈çon) en la tabla separada
                const yoonRows = [
                    { consonant: 'ky', vowels: ['kya', 'kyu', 'kyo'] },
                    { consonant: 'gy', vowels: ['gya', 'gyu', 'gyo'] },
                    { consonant: 'sh', vowels: ['sha', 'shu', 'sho'] },
                    { consonant: 'j', vowels: ['ja', 'ju', 'jo'] },
                    { consonant: 'ch', vowels: ['cha', 'chu', 'cho'] },
                    { consonant: 'ny', vowels: ['nya', 'nyu', 'nyo'] },
                    { consonant: 'hy', vowels: ['hya', 'hyu', 'hyo'] },
                    { consonant: 'by', vowels: ['bya', 'byu', 'byo'] },
                    { consonant: 'py', vowels: ['pya', 'pyu', 'pyo'] },
                    { consonant: 'my', vowels: ['mya', 'myu', 'myo'] },
                    { consonant: 'ry', vowels: ['rya', 'ryu', 'ryo'] }
                ];

                yoonRows.forEach(rowData => {
                    const row = document.createElement('tr');
                    let yoonRowHasData = false;

                    rowData.vowels.forEach(vowel => {
                        const cell = document.createElement('td');
                        cell.className = 'p-4 border border-gray-200';

                        const characterData = data.hiragana.find(item => item.romanization === vowel);

                        if (characterData) {
                            cell.innerHTML = `
                                <div class="p-4 hover:bg-slate-50 transition-colors duration-200 rounded-lg">
                                    <div class="text-3xl font-bold text-slate-800 mb-2">${characterData.character}</div>
                                    <div class="text-sm text-slate-500 font-medium">${characterData.romanization}</div>
                                </div>
                            `;
                            hasData = true;
                        } else {
                            cell.innerHTML = '<div class="p-4"></div>';
                        }

                        row.appendChild(cell);
                    });

                    // Solo agregar la fila si tiene datos
                    if (hasData) {
                        tableBody.appendChild(row);
                    }
                });

                // Y≈çon table generation
                const yoonConsonants = ['ky', 'gy', 'shy', 'jy', 'chy', 'ny', 'hy', 'by', 'py', 'my', 'ry'];
                
                yoonConsonants.forEach(consonant => {
                    const row = document.createElement('tr');
                    let yoonRowHasData = false;

                    ['a', 'u', 'o'].forEach(vowel => {
                        const cell = document.createElement('td');
                        let romanization = consonant + vowel;

                        // Casos especiales para y≈çon
                        if (consonant === 'shy') romanization = 'sh' + vowel;
                        if (consonant === 'jy') romanization = 'j' + vowel;
                        if (consonant === 'chy') romanization = 'ch' + vowel;

                        const characterData = data.hiragana.find(item => item.romanization === romanization);

                        if (characterData) {
                            cell.innerHTML = `
                                <div class="p-4 hover:bg-slate-50 transition-colors duration-200 rounded-lg">
                                    <div class="text-3xl font-bold text-slate-800 mb-2">${characterData.character}</div>
                                    <div class="text-sm text-slate-500 font-medium">${characterData.romanization}</div>
                                </div>
                            `;
                            yoonRowHasData = true;
                        } else {
                            cell.innerHTML = '<div class="p-4"></div>';
                        }

                        row.appendChild(cell);
                    });

                    // Solo agregar la fila y≈çon si tiene datos
                    if (yoonRowHasData) {
                        yoonTableBody.appendChild(row);
                    }
                });
            })
            .catch(error => {
                // Error cargando datos
            });
    </script>
    
    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 py-12 mt-20" role="contentinfo">
        <div class="max-w-6xl mx-auto px-4">
            <div class="text-center">
                <div class="mb-6">
                    <img class="h-12 mx-auto opacity-80" alt="Logo Hirakata" src="../hirakata-nobg.png">
                </div>
                <p class="text-lg mb-4">
                    ¬© 2025 HiraKata. Desarrollado con 
                    <span class="text-red-400 text-xl" aria-label="amor">‚ù§Ô∏è</span> por 
                    <a href="https://github.com/nakanakadev/" target="_blank" rel="noopener noreferrer"
                       class="text-red-400 hover:text-red-300 transition-colors duration-300 underline decoration-2 underline-offset-4 hover:decoration-red-300 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 focus:ring-offset-slate-900 rounded">
                        nakanakadev
                    </a>
                </p>
                <p class="text-slate-500 text-sm">
                    Hecho para estudiantes de japon√©s, por estudiantes de japon√©s.
                </p>
            </div>
        </div>
    </footer>
</body>

</html>